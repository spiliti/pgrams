----------- installment from 2005 ----------------

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042005, '2005-04-01 00:00:00','2005-04-01 00:00:00','2005-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2005-2006-1', NULL,'2005-06');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102005, '2005-10-01 00:00:00','2005-10-01 00:00:00','2006-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2005-2006-2', NULL,'2005-06');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042006, '2006-04-01 00:00:00','2006-04-01 00:00:00','2006-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2006-2007-1', NULL,'2006-07');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102006, '2006-10-01 00:00:00','2006-10-01 00:00:00','2007-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2006-2007-2', NULL,'2006-07');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042007, '2007-04-01 00:00:00','2007-04-01 00:00:00','2007-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2007-2008-1', NULL,'2007-08');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102007, '2007-10-01 00:00:00','2007-10-01 00:00:00','2008-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2007-2008-2', NULL,'2007-08');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042008, '2008-04-01 00:00:00','2008-04-01 00:00:00','2008-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2008-2009-1', NULL,'2008-09');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102008, '2008-10-01 00:00:00','2008-10-01 00:00:00','2009-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2008-2009-2', NULL,'2008-09');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042009, '2009-04-01 00:00:00','2009-04-01 00:00:00','2009-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2009-2010-1', NULL,'2009-10');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102009, '2009-10-01 00:00:00','2009-10-01 00:00:00','2010-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2009-2010-2', NULL,'2009-10');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042010, '2010-04-01 00:00:00','2010-04-01 00:00:00','2010-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2010-2011-1', NULL,'2010-11');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102010, '2010-10-01 00:00:00','2010-10-01 00:00:00','2011-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2010-2011-2', NULL,'2010-11');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042011, '2011-04-01 00:00:00','2011-04-01 00:00:00','2011-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2011-2012-1', NULL,'2011-12');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102011, '2011-10-01 00:00:00','2011-10-01 00:00:00','2012-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2011-2012-2', NULL,'2011-12');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042012, '2012-04-01 00:00:00','2012-04-01 00:00:00','2012-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2012-2013-1', NULL,'2012-13');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102012, '2012-10-01 00:00:00','2012-10-01 00:00:00','2013-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2012-2013-2', NULL,'2012-13');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042013, '2013-04-01 00:00:00','2013-04-01 00:00:00','2013-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2013-2014-1', NULL,'2013-14');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102013, '2013-10-01 00:00:00','2013-10-01 00:00:00','2014-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2013-2014-2', NULL,'2013-14');


INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042014, '2014-04-01 00:00:00','2014-04-01 00:00:00','2014-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2014-2015-1', NULL,'2014-15');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102014, '2014-10-01 00:00:00','2014-10-01 00:00:00','2015-03-31 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2014-2015-2', NULL,'2014-15');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 042015, '2015-04-01 00:00:00','2015-04-01 00:00:00','2015-09-30 23:59:59',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2015-2016-1', NULL,'2015-16');

INSERT INTO eg_installment_master (id, installment_num, installment_year, start_date, end_date, id_module, lastupdatedtimestamp, description, installment_type,financial_year) VALUES 
(nextval('SEQ_EG_INSTALLMENT_MASTER'), 102015, '2015-10-01 00:00:00','2015-10-01 00:00:00','2016-04-10 00:00:00',
 (select id from eg_module  where name = 'Sewerage Tax Management'and parentmodule is null), current_timestamp, '2015-2016-2', NULL,'2015-16');

---------------- EG_DEMAND_REASON -----------------

Insert into EG_DEMAND_REASON (ID,ID_DEMAND_REASON_MASTER,ID_INSTALLMENT,PERCENTAGE_BASIS,ID_BASE_REASON,create_date,modified_date,GLCODEID) 
(select (nextval('seq_eg_demand_reason')), (select id from eg_demand_reason_master where reasonmaster='Sewerage Tax' and module=(select id from eg_module where name='Sewerage Tax Management')), inst.id, null, null, current_timestamp, current_timestamp, null from eg_installment_master inst where inst.id_module=(select id from eg_module where name='Sewerage Tax Management') and inst.financial_year!='2016-17'); 

update EG_DEMAND_REASON  set glcodeid=(select id from chartofaccounts where glcode='1404019') where ID_DEMAND_REASON_MASTER in (select id from eg_demand_reason_master where reasonmaster in ('Sewerage Tax') and module=(select id from eg_module where name='Sewerage Tax Management'));

